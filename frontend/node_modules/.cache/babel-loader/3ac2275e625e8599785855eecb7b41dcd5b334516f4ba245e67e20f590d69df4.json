{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91898\\\\Downloads\\\\fullstack-rating-app (1)\\\\frontend\\\\src\\\\pages\\\\UserDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { logout } from '../utils/logout';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserDashboard = () => {\n  _s();\n  const [stores, setStores] = useState([]);\n  const [ratings, setRatings] = useState({});\n  useEffect(() => {\n    const fetchStores = async () => {\n      const token = localStorage.getItem('token');\n      const res = await axios.get('/api/stores', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setStores(res.data);\n    };\n    fetchStores();\n  }, []);\n  const rateStore = async (store_id, rating) => {\n    const token = localStorage.getItem('token');\n    await axios.post('/api/ratings', {\n      store_id,\n      rating\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    setRatings(prev => ({\n      ...prev,\n      [store_id]: rating\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"User Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: logout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), stores.map(store => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid #ccc',\n        margin: '10px',\n        padding: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: store.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: store.address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: ratings[store.id] || '',\n        onChange: e => rateStore(store.id, Number(e.target.value)),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Rate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }, this), [1, 2, 3, 4, 5].map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: n,\n          children: n\n        }, n, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 39\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this)]\n    }, store.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(UserDashboard, \"SgbYN3QAkQKgvZ3zMrjJRtF/dI4=\");\n_c = UserDashboard;\nexport default UserDashboard;\nvar _c;\n$RefreshReg$(_c, \"UserDashboard\");","map":{"version":3,"names":["React","useEffect","useState","axios","logout","jsxDEV","_jsxDEV","UserDashboard","_s","stores","setStores","ratings","setRatings","fetchStores","token","localStorage","getItem","res","get","headers","Authorization","data","rateStore","store_id","rating","post","prev","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","store","style","border","margin","padding","name","address","value","id","onChange","e","Number","target","n","_c","$RefreshReg$"],"sources":["C:/Users/91898/Downloads/fullstack-rating-app (1)/frontend/src/pages/UserDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { logout } from '../utils/logout';\n\nconst UserDashboard = () => {\n  const [stores, setStores] = useState([]);\n  const [ratings, setRatings] = useState({});\n\n  useEffect(() => {\n    const fetchStores = async () => {\n      const token = localStorage.getItem('token');\n      const res = await axios.get('/api/stores', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setStores(res.data);\n    };\n    fetchStores();\n  }, []);\n\n  const rateStore = async (store_id, rating) => {\n    const token = localStorage.getItem('token');\n    await axios.post('/api/ratings', { store_id, rating }, {\n      headers: { Authorization: `Bearer ${token}` }\n    });\n    setRatings(prev => ({ ...prev, [store_id]: rating }));\n  };\n\n  return (\n    <div>\n      <h2>User Dashboard</h2>\n      <button onClick={logout}>Logout</button>\n      {stores.map(store => (\n        <div key={store.id} style={{ border: '1px solid #ccc', margin: '10px', padding: '10px' }}>\n          <h4>{store.name}</h4>\n          <p>{store.address}</p>\n          <select value={ratings[store.id] || ''} onChange={(e) => rateStore(store.id, Number(e.target.value))}>\n            <option value=\"\">Rate</option>\n            {[1, 2, 3, 4, 5].map(n => <option key={n} value={n}>{n}</option>)}\n          </select>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default UserDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}